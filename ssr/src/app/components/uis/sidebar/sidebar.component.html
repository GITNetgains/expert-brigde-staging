<div class="left-sidebar">
  <aside class="main-sidebar">
    <!-- Brand Logo -->
    <a class="brand-link" routerLink="/">
      <img src="/assets/images/logo.svg" alt="Logo" class="brand-image" onerror="this.src='/assets/images/logo.png'" />
    </a>

    <!-- Sidebar Menu -->
    <div class="sidebar">
      <ul class="nav">
        <!-- Dashboard -->
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['/users/dashboard']" routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fi fi-rs-apps"></i>
            <span translate>Dashboard</span>
          </a>
        </li>

        <!-- Student Menu -->
        <ng-container *ngIf="currentUser?.type === 'student'">
          <div class="nav-header">Client Menu</div>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/lessons']" routerLinkActive="active">
              <i class="fi fi-rr-calendar-check"></i>
              <span translate>My Appointments</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/browse-group-sessions']" routerLinkActive="active">
              <i class="fi fi-rs-chalkboard-user"></i>
              <span translate>Browse group sessions of the experts</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/ai-queries']" routerLinkActive="active">
              <i class="fi fi-rr-comment-alt"></i>
              <span translate>AI History</span>
            </a>
          </li>
        </ng-container>

        <!-- Tutor Menu -->
        <ng-container *ngIf="currentUser?.type === 'tutor'">
          <div class="nav-header">Expert Menu</div>
          <li class="nav-item">
            <a class="nav-link" href="https://opportunities.expertbridge.co/opportunities" target="_blank" rel="noopener noreferrer">
              <i class="fi fi-rr-briefcase"></i>
              <span translate>Browse opportunities</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/groupsession']" routerLinkActive="active">
              <i class="fi fi-rs-chalkboard-user"></i>
              <span translate>Group sessions</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/groupsession/create']" routerLinkActive="active">
              <i class="fi fi-rr-plus"></i>
              <span translate>Add group session</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/appointments']" routerLinkActive="active">
              <i class="fi fi-rr-calendar"></i>
              <span translate>Appointments</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/1on1sessions']" routerLinkActive="active">
              <i class="fi fi-rr-time-check"></i>
              <span translate>Availability</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/my-categories']" routerLinkActive="active">
              <i class="fi fi-rr-money-check-edit"></i>
              <span translate>Services & Pricing</span>
            </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/coupons']" routerLinkActive="active">
              <i class="fi fi-rr-ticket"></i>
              <span translate>Coupons</span>
            </a>
          </li> -->
        </ng-container>

        <!-- Financials (Shared) -->
        <div class="nav-header" *ngIf="showBooking || currentUser?.type === 'tutor'">Financials</div>

        <li class="nav-item" *ngIf="showBooking">
          <a class="nav-link" [routerLink]="['/users/transaction']" routerLinkActive="active">
            <i class="fi fi-rr-receipt"></i>
            <span translate>Transactions</span>
          </a>
        </li>

        <ng-container *ngIf="currentUser?.type === 'tutor'">
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/payout/request']" routerLinkActive="active">
              <i class="fi fi-rs-hand-holding-usd"></i>
              <span translate>Payouts</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/payout/account']" routerLinkActive="active">
              <i class="fi fi-rr-bank"></i>
              <span translate>Bank Account</span>
            </a>
          </li>
        </ng-container>

        <li class="nav-item" *ngIf="currentUser?.type === 'student'">
          <a class="nav-link" [routerLink]="['/users/refund/request']" routerLinkActive="active">
            <i class="fi fi-rr-undo-alt"></i>
            <span translate>Refunds</span>
          </a>
        </li>

        <!-- Favorites -->
        <ng-container *ngIf="showBooking">
          <div class="nav-header">Favorites</div>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/users/favorites', 'expert']" routerLinkActive="active">
              <i class="fi fi-rr-heart"></i>
              <span translate>My Wishlist</span>
            </a>
          </li>
        </ng-container>

        <!-- Account -->
        <div class="nav-header">Account</div>
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['/users/profile']" routerLinkActive="active">
            <i class="fi fi-rr-user-gear"></i>
            <span translate>Profile Settings</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link logout-link" (click)="logout()" href="javascript:void(0)">
            <i class="fi fi-rr-sign-out-alt"></i>
            <span translate>Logout</span>
          </a>
        </li>

      </ul>
    </div>

    <!-- Sidebar Footer Profile -->
    <div class="sidebar-footer" *ngIf="currentUser">
      <div class="user-mini-profile">
        <img [src]="currentUser.avatarUrl || '/assets/images/default-avatar.jpg'" alt="User">
        <div class="user-info">
          <h6>{{currentUser.name}}</h6>
          <small>{{currentUser.type === 'tutor' ? 'Expert' : 'Client'}}</small>
        </div>
      </div>
    </div>

  </aside>
</div>