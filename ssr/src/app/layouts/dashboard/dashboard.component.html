<!-- <app-header *ngIf="!noShowMenu"></app-header>
<user-left-menu *ngIf="!noShowMenu"></user-left-menu> -->
<div class="wrapper-dashboard" [ngClass]="{ 'menu-hidden': !showSidebar, 'menu-show': showSidebar }">
  <div class="overlay" (click)="toggleMemu()"></div>
  <div class="header-dashboard">
    <!-- Hamburger for Mobile -->
    <i class="fi fi-rr-menu-burger nav-trigger" (click)="toggleMemu()"></i>

    <div class="header-content">
      <!-- Home -->
      <a [routerLink]="['/']" class="nav-icon-btn" title="Home">
        <i class="fi fi-rs-house-chimney"></i>
      </a>

      <!-- Messages -->
      <a [routerLink]="['/users/conversations']" routerLinkActive="active" class="nav-icon-btn" title="Messages">
        <i class="fi fi-rr-envelope"></i>
      </a>

      <!-- Notifications -->
      <a *ngIf="currentUser" [routerLink]="['/users/notifications']" routerLinkActive="active" class="nav-icon-btn"
        title="Notifications">
        <i class="fi fi-rr-bell"></i>
        <span class="badge-count" *ngIf="unreadNotificationCount">{{unreadNotificationCount}}</span>
      </a>

      <!-- Cart (Student) -->
      <a *ngIf="currentUser && currentUser.type === 'student'" (click)="checkout()" href="javascript:void(0)"
        class="nav-icon-btn" title="Cart">
        <i class="fi fi-rr-shopping-cart"></i>
        <span class="badge-count" *ngIf="cartCount">{{cartCount}}</span>
      </a>

      <!-- Language Switcher (Optional, restored from original intent) -->
      <div class="d-inline-block" ngbDropdown placement="bottom-end" *ngIf="languages?.length > 1">
        <button class="nav-icon-btn" id="langDropdown" ngbDropdownToggle>
          <img [src]="flag || '/assets/images/flags/en.svg'" alt="Lang"
            style="width: 20px; height: 20px; border-radius: 50%; object-fit: cover;">
        </button>
        <div ngbDropdownMenu aria-labelledby="langDropdown">
          <button ngbDropdownItem *ngFor="let lang of languages" (click)="changeLang(lang)"
            [class.active]="lang.key === userLang">
            <img [src]="lang.flag" width="20" class="me-2"> {{ lang.name }}
          </button>
        </div>
      </div>

      <!-- User Dropdown -->
      <div class="user-dropdown" ngbDropdown placement="bottom-end" *ngIf="currentUser">
        <a class="dropdown-toggle" ngbDropdownToggle id="userDropdown" href="javascript:void(0)">
          <img [src]="currentUser?.avatarUrl || './assets/images/default-avatar.jpg'" alt="{{currentUser?.name}}"
            class="avatar-img" onerror="this.src='./assets/images/default-avatar.jpg'">
          <span class="user-name">{{currentUser?.name}}</span>
          <i class="fi fi-rr-angle-small-down"></i>
        </a>
        <div ngbDropdownMenu aria-labelledby="userDropdown" class="dropdown-menu">
          <a [routerLink]="['/users/profile']" class="dropdown-item">
            <i class="fi fi-rr-user"></i> My Profile
          </a>
          <a [routerLink]="['/users/dashboard']" class="dropdown-item">
            <i class="fi fi-rr-apps"></i> Dashboard
          </a>
          <div class="dropdown-divider"></div>
          <a href="javascript:void(0)" (click)="logout()" class="dropdown-item text-danger">
            <i class="fi fi-rs-sign-out-alt"></i> Logout
          </a>
        </div>
      </div>

      <!-- Fallback Logout -->
      <a *ngIf="!currentUser" href="javascript:void(0)" (click)="logout()" class="nav-icon-btn" title="Logout">
        <i class="fi fi-rs-sign-out-alt"></i>
      </a>

    </div>
  </div>
  <app-sidebar [showMenu]="showSidebar" (showMenuChange)="showMenuChange($event)"></app-sidebar>
  <div class="content-wrapper">
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </div>
  <!-- <section class="footer-bottom bg-color-black">
    <p class="color-white text-center footer-bottom-content">
      &copy; Livelearn
      <script>
        document.write(new Date().getFullYear());
      </script>
      <span translate>Copyright. All rights reserved </span>
    </p>
  </section> -->
</div>