<section class="sm-padding">
  <div class="container-fluid px-4">
    <div class="row my-category-layout g-4">
      
      <div class="col-12 col-xl-6">
        <div class="card custom-card animate-card delay-1">
          <div class="custom-card-header">
            <h4>Categories</h4>
            <button type="button" class="btn btn-add" (click)="submitCategory()">
              <i class="fi fi-rr-plus"></i> <span>Add New</span>
            </button>
          </div>
          
          <div class="table-responsive">
            <table class="table align-middle">
              <thead>
                <tr>
                  <th (click)="sortBy('category', 'name', 'asc')" class="cursor-pointer">Name</th>
                  <th class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of myCategories; let i = index" 
                    [class.highlight]="selectedCategory?._id === item._id">
                  <td class="fw-medium">{{item?.name}}</td>
                  <td>
                    <div class="action-cell">
                      <button (click)="selectMyCategory(item)" class="btn btn-list-action">
                        Manage Subcategories
                      </button>
                      
                      <button (click)="changeStatus('category',item)" 
                              [class]="item.isActive ? 'btn-status btn-status-active' : 'btn-status btn-status-inactive'">
                        <i [class]="item.isActive ? 'fi fi-rr-check' : 'fi fi-rr-cross'"></i>
                      </button>
                      
                      <button (click)="remove('category',item, i)" class="btn-status btn-delete">
                        <i class="fi fi-rr-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="col-12 col-xl-6">
        <div class="card custom-card animate-card delay-2">
          <div class="custom-card-header">
            <h4>Subcategories</h4>
            <button *ngIf="selectedCategory" type="button" class="btn btn-add" (click)="submitSubject()">
              <i class="fi fi-rr-plus"></i> <span>Add</span>
            </button>
          </div>
          
          <div class="table-responsive">
            <div *ngIf="!selectedCategory" class="py-5 text-center">
              <p class="text-muted mb-0">Select a category from the left to view subjects.</p>
            </div>

            <table class="table align-middle" *ngIf="selectedCategory">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Price</th>
                  <th class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of mySubjects; let i = index">
                  <td class="fw-medium">{{item?.name}}</td>
                  <td><span class="badge bg-light text-dark">{{item?.price | appCurrency}}</span></td>
                  <td>
                    <div class="action-cell">
                      <button (click)="submitSubject(item)" class="btn btn-list-action">Edit</button>
                      <button (click)="remove('subject',item, i)" class="btn-status btn-delete">
                        <i class="fi fi-rr-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

    <div class="row mt-3">
      <div class="col-12 text-start">
       
        <p class="text-muted large mb-0">
          <strong>Consultation</strong> - Per Hour
        </p>
         <p class="text-muted large mb-1">
          <strong>Survey</strong> - Per Survey
        </p>
      </div>
    </div>
  </div>
</section>